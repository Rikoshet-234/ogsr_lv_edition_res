Экранные техники ambient occlusion

Суть всех техник - посчитать "открытость" точки для непрямого освещения. Нарисуем вокруг точки полусферу. Если в этой полусфере нет окклюдеров, точка освещена, чем больше окклюдеров, тем больше затенение точки.
Модификации:
1) ssao.
	Основа - в некотором радиусе от точки берем набор точек в screen space, считаем расстояние до них и складывам. При этом принимаем, что чем больше расстояние, тем больше по этому направлению окклюдеров, тем меньше с этой стороны освещение. 
	Проблемы
		- сильная зависимость качества от количества и рандомности семплов. Первое не решают, второе решают с помощью текстуры с псевдослучайными векторами
		- при очень неровной поверхности очевидно будут точки, лежащие за окклюдером, но имеющие сходную глубину. Обязательно будет пересвет точки. Также будет самозатенение граней из-за резкого перепада глубин на грани. Частично решается с помощью отбрасывания точек с обратными нормалями. С другой стороны, метод с нормалями отбросит правильные точки и будет недосвет
		
2) ssdo
	Также есть набор точек, но в view space. Каждая точка проецируется на плоскость, если оказывается, что точка находится внутри геометрии, она отбрасывается. Таким образом остается некоторое количество точек, пропорциональное свободному пространству полусферы, что и дает приближение "открытости" точки.
	Проблемы
		- та же проблема с неровной геометрией. Будет пересвет.

3) hdao
	Вокруг пикселя берется ряд точек. Координаты точки отражаются относительно пикселя, после чего проиводится тест глубины точки и отраженной точки. Если глубины меньше, чем у центрального пикселя, значит, пиксель в "долине" и коэффициент затенения с этих двух сторон больше. Чем это отличается от ssdo, мне трудно понять. Аффтары из AMD упирают на адскую детализацию подхода, но это и в других техниках можно сделать - просто увеличением количества семплов.
		
4) hbao
	В полусфере вокруг точки выделяется ряд направлений, после чего производится рейтрейс от точки до границы сферы по направлению. Так находим "горизонт" по данному направлению. Конец рейтрейса определяется по малой дельте угла горизонта между двух предыдущих шагов. По углу горизонта находим площадь открытой четверьсферы, усредняем по всем направлениям.
	Проблемы
		- при слабой тесселяции геометрии углы между полигонами будут затенены. Для сглаживания применяют угловую коррекцию.

	
Общие проблемы техник:
	- не учитывается направление источников освещения, что приводит к лишним теням в редких случаях.
	- не учитываются окклюдеры за пределами полусферы.